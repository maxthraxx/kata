---
phase: 06-pr-review-workflow-skill-agents
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - skills/kata-reviewing-pull-requests/SKILL.md
  - commands/kata/review-pr.md
autonomous: true

must_haves:
  truths:
    - "PR review skill is user-invocable via /kata:reviewing-pull-requests"
    - "No obsolete command wrapper exists"
    - "Skill frontmatter follows v1.0.9 conventions"
  artifacts:
    - path: "skills/kata-reviewing-pull-requests/SKILL.md"
      provides: "PR review skill with correct frontmatter"
      contains: "user-invocable: true"
  key_links: []
---

<objective>
Update PR review skill frontmatter to follow v1.0.9 conventions and remove obsolete command wrapper.

Purpose: v1.0.9 normalized on skills-only architecture. The existing PR review skill has `user-invocable: false` which hides it from the slash menu. The command wrapper in `commands/kata/review-pr.md` is obsolete since the commands layer was deleted.

Output: Clean skill ready for integration with correct frontmatter.
</objective>

<execution_context>
@./references/execute-plan.md
@./references/summary-template.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@skills/kata-reviewing-pull-requests/SKILL.md
@commands/kata/review-pr.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update skill frontmatter</name>
  <files>skills/kata-reviewing-pull-requests/SKILL.md</files>
  <action>
    Update frontmatter to match v1.0.9 conventions:
    - Change `user-invocable: false` to `user-invocable: true` (or remove it since true is default)
    - Remove `disable-model-invocation: false` (redundant, false is default)
    - Add `context: fork` so the skill runs in a subagent context (heavy multi-agent workflow)

    Keep existing name, description, version, and allowed-tools.

    The skill should be invokable as `/kata:reviewing-pull-requests` in plugin mode or `/kata-reviewing-pull-requests` in NPX mode.
  </action>
  <verify>
    Verify frontmatter:
    - `user-invocable: true` or field absent (defaults to true)
    - `disable-model-invocation` absent or false
    - `context: fork` present
    - All other fields preserved
  </verify>
  <done>Skill frontmatter matches v1.0.9 conventions, skill accessible via slash command.</done>
</task>

<task type="auto">
  <name>Task 2: Delete obsolete command wrapper</name>
  <files>commands/kata/review-pr.md</files>
  <action>
    Delete `commands/kata/review-pr.md`.

    This command wrapper is obsolete since v1.0.9 removed the commands layer entirely. Skills are now directly invocable without command wrappers.

    Check if `commands/kata/` directory is empty after deletion and delete it if so.
    Check if `commands/` directory is empty after deletion and delete it if so.
  </action>
  <verify>
    - `commands/kata/review-pr.md` does not exist
    - `commands/kata/` directory deleted if empty
    - `commands/` directory deleted if empty
  </verify>
  <done>Obsolete command wrapper removed, clean directory structure.</done>
</task>

</tasks>

<verification>
- `ls skills/kata-reviewing-pull-requests/SKILL.md` — file exists
- `grep "user-invocable" skills/kata-reviewing-pull-requests/SKILL.md` — should show true or not present
- `ls commands/kata/review-pr.md 2>/dev/null` — should not exist (exit code 1)
</verification>

<success_criteria>
- [ ] Skill frontmatter updated with `user-invocable: true`
- [ ] Obsolete command wrapper deleted
- [ ] Empty command directories cleaned up
</success_criteria>

<output>
After completion, create `.planning/phases/06-pr-review-workflow-skill-agents/06-01-SUMMARY.md`
</output>
