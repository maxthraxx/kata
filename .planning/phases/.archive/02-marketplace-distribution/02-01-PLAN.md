---
phase: 02-marketplace-distribution
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - .claude-plugin/plugin.json
  - (external) gannonh/claude-code-plugins/.claude-plugin/marketplace.json
autonomous: true

must_haves:
  truths:
    - "Kata plugin version is 0.1.9 in plugin.json"
    - "claude-code-plugins GitHub repository exists"
    - "marketplace.json contains Kata plugin entry"
  artifacts:
    - path: ".claude-plugin/plugin.json"
      provides: "Plugin manifest with v0.1.9"
      contains: '"version": "0.1.9"'
    - path: "(external) gannonh/claude-code-plugins/.claude-plugin/marketplace.json"
      provides: "Marketplace catalog with Kata entry"
      contains: '"name": "kata"'
  key_links:
    - from: "claude-code-plugins/marketplace.json"
      to: "gannonh/kata"
      via: "GitHub source reference"
      pattern: '"repo": "gannonh/kata"'
---

<objective>
Create marketplace infrastructure for Kata plugin distribution.

Purpose: Enable users to install Kata via `/plugin install kata@claude-code-plugins`
Output: claude-code-plugins repository with marketplace.json pointing to gannonh/kata
</objective>

<execution_context>
@~/.claude/kata/workflows/execute-plan.md
@~/.claude/kata/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.claude-plugin/plugin.json

Plugin marketplace structure (from Claude Code docs):
- Marketplace repo: `.claude-plugin/marketplace.json` at root
- marketplace.json format:
  ```json
  {
    "name": "claude-code-plugins",
    "owner": { "name": "Gannon Hall" },
    "plugins": [
      {
        "name": "kata",
        "source": { "source": "github", "repo": "gannonh/kata" },
        "description": "Spec-driven development framework for Claude Code"
      }
    ]
  }
  ```
- Users add via: `/plugin marketplace add gannonh/claude-code-plugins`
- Users install via: `/plugin install kata@claude-code-plugins`
</context>

<tasks>

<task type="auto">
  <name>Task 1: Bump plugin version to 0.1.9</name>
  <files>.claude-plugin/plugin.json</files>
  <action>
Update version field from "0.1.6" to "0.1.9" in plugin.json.

This aligns with the v0.1.9 milestone we're shipping.
  </action>
  <verify>grep '"version": "0.1.9"' .claude-plugin/plugin.json</verify>
  <done>plugin.json shows version 0.1.9</done>
</task>

<task type="auto">
  <name>Task 2: Create claude-code-plugins marketplace repository</name>
  <files>(external) gannonh/claude-code-plugins repo</files>
  <action>
Create the claude-code-plugins GitHub repository:

1. Create a temporary directory for the marketplace repo:
   ```bash
   mkdir -p /tmp/claude-code-plugins/.claude-plugin
   ```

2. Create marketplace.json with Kata plugin entry:
   ```json
   {
     "name": "claude-code-plugins",
     "owner": {
       "name": "Gannon Hall"
     },
     "metadata": {
       "description": "Personal plugin marketplace for Claude Code extensions"
     },
     "plugins": [
       {
         "name": "kata",
         "source": {
           "source": "github",
           "repo": "gannonh/kata"
         },
         "description": "Spec-driven development framework for Claude Code. Provides structured workflows for requirements gathering, research, planning, execution, and verification.",
         "version": "0.1.9",
         "author": {
           "name": "gannonh",
           "url": "https://github.com/gannonh"
         },
         "homepage": "https://github.com/gannonh/kata",
         "repository": "https://github.com/gannonh/kata",
         "license": "MIT",
         "keywords": ["claude", "claude-code", "spec-driven-development", "meta-prompting", "context-engineering", "ai-development"]
       }
     ]
   }
   ```

3. Add a README.md:
   ```markdown
   # claude-code-plugins

   Personal plugin marketplace for Claude Code extensions.

   ## Installation

   Add this marketplace:
   ```
   /plugin marketplace add gannonh/claude-code-plugins
   ```

   ## Available Plugins

   ### Kata

   Spec-driven development framework for Claude Code.

   ```
   /plugin install kata@claude-code-plugins
   ```

   [Learn more](https://github.com/gannonh/kata)
   ```

4. Initialize git repo and push to GitHub:
   ```bash
   cd /tmp/claude-code-plugins
   git init
   git add .
   git commit -m "Initial marketplace with Kata plugin"
   gh repo create claude-code-plugins --public --source=. --push --description "Personal plugin marketplace for Claude Code extensions"
   ```
  </action>
  <verify>gh repo view gannonh/claude-code-plugins --json name,description</verify>
  <done>claude-code-plugins repository exists on GitHub with marketplace.json containing Kata entry</done>
</task>

<task type="auto">
  <name>Task 3: Validate marketplace locally</name>
  <files>(external) gannonh/claude-code-plugins</files>
  <action>
Clone the marketplace repo and validate it:

```bash
cd /tmp
rm -rf claude-code-plugins-validate
git clone https://github.com/gannonh/claude-code-plugins.git claude-code-plugins-validate
cd claude-code-plugins-validate
claude plugin validate .
```

Confirm validation passes with no errors.
  </action>
  <verify>claude plugin validate . returns success (exit code 0)</verify>
  <done>Marketplace validates successfully</done>
</task>

</tasks>

<verification>
1. `grep '"version": "0.1.9"' .claude-plugin/plugin.json` shows the version
2. `gh repo view gannonh/claude-code-plugins` shows repo exists
3. `curl -s https://raw.githubusercontent.com/gannonh/claude-code-plugins/main/.claude-plugin/marketplace.json | jq '.plugins[0].name'` returns "kata"
</verification>

<success_criteria>
- [ ] plugin.json version is 0.1.9
- [ ] claude-code-plugins GitHub repository exists
- [ ] marketplace.json contains Kata plugin entry with github source pointing to gannonh/kata
- [ ] Marketplace validates with `claude plugin validate .`
</success_criteria>

<output>
After completion, create `.planning/phases/02-marketplace-distribution/02-01-SUMMARY.md`
</output>
