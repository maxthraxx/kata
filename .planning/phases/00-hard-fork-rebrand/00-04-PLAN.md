---
phase: 00-hard-fork-rebrand
plan: 04
type: execute
wave: 3
depends_on: ["00-02", "00-03"]
files_modified:
  - commands/kata/update.md
  - commands/kata/whats-new.md
  - hooks/kata-check-update.js
  - .planning/PROJECT.md
  - .planning/codebase/INTEGRATIONS.md
autonomous: true

must_haves:
  truths:
    - "Command files have no glittercowboy references"
    - "Hook files have no old repo references"
    - "Planning docs reflect standalone project"
  artifacts:
    - path: "commands/kata/update.md"
      provides: "Update command"
      min_lines: 5
    - path: "hooks/kata-check-update.js"
      provides: "Update check hook"
      min_lines: 10
  key_links:
    - from: "commands/kata/update.md"
      to: "npm registry"
      via: "kata-cli package name"
      pattern: "kata-cli"
---

<objective>
Update internal command files, hooks, and planning docs to complete the rebrand.

Purpose: Ensure all internal references are consistent with the new project identity.
Output: All kata command files, hooks, and planning docs reference gannonh/kata.
</objective>

<execution_context>
@~/.claude/kata/workflows/execute-plan.md
@~/.claude/kata/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/00-hard-fork-rebrand/00-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update command files with old references</name>
  <files>commands/kata/update.md, commands/kata/whats-new.md</files>
  <action>
    Update command files that reference the old repository:

    1. commands/kata/update.md:
       - Replace glittercowboy/get-shit-done URLs with gannonh/kata
       - Keep kata-cli as npm package name (correct)

    2. commands/kata/whats-new.md:
       - Replace glittercowboy/get-shit-done URLs (3 occurrences) with gannonh/kata
       - Keep kata-cli references (correct)

    Search and replace pattern:
    - `glittercowboy/get-shit-done` -> `gannonh/kata`
    - `github.com/glittercowboy` -> `github.com/gannonh`

    Do NOT change:
    - `kata-cli` package name
    - `/kata:` command prefix
    - Core command logic
  </action>
  <verify>
    Run: `grep -r "glittercowboy" commands/kata/`
    Should return no matches.

    Run: `grep "gannonh/kata" commands/kata/update.md commands/kata/whats-new.md`
    Should return matches if those files have repo URLs.
  </verify>
  <done>Command files have no glittercowboy references</done>
</task>

<task type="auto">
  <name>Task 2: Update hooks with old references</name>
  <files>hooks/kata-check-update.js</files>
  <action>
    Update the update check hook:

    1. Find any references to glittercowboy or get-shit-done
    2. Replace with gannonh/kata equivalents

    The hook likely checks npm for updates to kata-cli, which is correct.
    Only update GitHub repo references if present.

    Keep:
    - `kata-cli` as npm package name
    - Update check logic
  </action>
  <verify>
    Run: `grep -E "(glittercowboy|get-shit-done)" hooks/kata-check-update.js`
    Should return no matches.

    Run: `node hooks/kata-check-update.js`
    Should run without error (may show update available or not).
  </verify>
  <done>Hook files have no old repository references</done>
</task>

<task type="auto">
  <name>Task 3: Update planning docs</name>
  <files>.planning/PROJECT.md, .planning/codebase/INTEGRATIONS.md</files>
  <action>
    Update planning documentation:

    1. .planning/PROJECT.md:
       - Remove/update any glittercowboy references
       - Update project identity to reflect standalone Kata project
       - Keep project goals and roadmap references

    2. .planning/codebase/INTEGRATIONS.md:
       - Replace glittercowboy/get-shit-done references with gannonh/kata
       - Update any package references if needed

    These are internal docs, so focus on accuracy over polish.
  </action>
  <verify>
    Run: `grep -r "glittercowboy" .planning/`
    Should return no matches (except possibly in RESEARCH.md which documents the old state).

    Actually, RESEARCH.md documents what WAS there, so it's OK to have references.
    Check: `grep "glittercowboy" .planning/PROJECT.md .planning/codebase/INTEGRATIONS.md`
    Should return no matches.
  </verify>
  <done>Planning docs reflect standalone Kata project</done>
</task>

</tasks>

<verification>
After all tasks:
1. `grep -r "glittercowboy" commands/ hooks/` returns no matches
2. `grep "glittercowboy" .planning/PROJECT.md .planning/codebase/INTEGRATIONS.md` returns no matches
3. All files still function correctly
</verification>

<success_criteria>
- Command files reference gannonh/kata
- Hooks have no old repo references
- Planning docs reflect standalone project
- kata-cli package name preserved throughout
</success_criteria>

<output>
After completion, create `.planning/phases/00-hard-fork-rebrand/00-04-SUMMARY.md`
</output>
