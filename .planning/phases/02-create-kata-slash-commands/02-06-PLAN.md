---
phase: 02-create-kata-slash-commands
plan: 06
type: execute
wave: 4
depends_on: ["02-02", "02-03", "02-04", "02-05"]
files_modified:
  - skills/kata-starting-new-projects/SKILL.md
  - skills/kata-manageing-milestones/SKILL.md
  - skills/kata-managing-project-roadmap/SKILL.md
  - skills/kata-discussing-phase-context/SKILL.md
  - skills/kata-researching-phases/SKILL.md
  - skills/kata-planning-phases/SKILL.md
  - skills/kata-executing-project-phases/SKILL.md
  - skills/kata-verifying-work-outcomes-and-user-acceptance-testing/SKILL.md
  - skills/kata-providing-progress-and-status-updates/SKILL.md
  - skills/kata-managing-todos/SKILL.md
  - skills/kata-debugging-kata-workflow-issues/SKILL.md
  - skills/kata-updating-to-latest-version/SKILL.md
  - skills/kata-executing-quick-tasks/SKILL.md
  - skills/kata-showing-available-commands-and-usage-guides/SKILL.md
autonomous: true

must_haves:
  truths:
    - "Skills are not autonomously invoked when user types /kata: commands"
    - "Skills still work when invoked via explicit /skill-name syntax"
  artifacts:
    - path: "skills/kata-planning-phases/SKILL.md"
      provides: "Planning skill with user-invocable: false"
      contains: "user-invocable: false"
    - path: "skills/kata-executing-project-phases/SKILL.md"
      provides: "Execution skill with user-invocable: false"
      contains: "user-invocable: false"
  key_links:
    - from: "commands/kata/phase-plan.md"
      to: "skills/kata-planning-phases/SKILL.md"
      via: "Command delegates to skill"
      pattern: "kata-planning-phases"
---

<objective>
Update all 14 skill frontmatters to add `user-invocable: false` to prevent autonomous invocation.

Purpose: Commands become the explicit invocation path; skills only trigger from natural language or command delegation
Output: All 14 skill SKILL.md files updated with user-invocable: false
</objective>

<execution_context>
@~/.claude/kata/workflows/execute-plan.md
@~/.claude/kata/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-create-kata-slash-commands/02-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update existing skill frontmatters (11 skills)</name>
  <files>skills/kata-starting-new-projects/SKILL.md, skills/kata-manageing-milestones/SKILL.md, skills/kata-managing-project-roadmap/SKILL.md, skills/kata-discussing-phase-context/SKILL.md, skills/kata-researching-phases/SKILL.md, skills/kata-planning-phases/SKILL.md, skills/kata-executing-project-phases/SKILL.md, skills/kata-verifying-work-outcomes-and-user-acceptance-testing/SKILL.md, skills/kata-providing-progress-and-status-updates/SKILL.md, skills/kata-managing-todos/SKILL.md, skills/kata-debugging-kata-workflow-issues/SKILL.md</files>
  <action>
For each of the 11 existing skills, add `user-invocable: false` to the frontmatter.

**Before:**
```yaml
---
name: kata-planning-phases
description: Use this skill when...
---
```

**After:**
```yaml
---
name: kata-planning-phases
description: Use this skill when...
user-invocable: false
---
```

**Skills to update:**
1. kata-starting-new-projects
2. kata-manageing-milestones
3. kata-managing-project-roadmap
4. kata-discussing-phase-context
5. kata-researching-phases
6. kata-planning-phases
7. kata-executing-project-phases
8. kata-verifying-work-outcomes-and-user-acceptance-testing
9. kata-providing-progress-and-status-updates
10. kata-managing-todos
11. kata-debugging-kata-workflow-issues

Read each file, add the line after description, write back.
  </action>
  <verify>
```bash
for skill in skills/kata-*/SKILL.md; do
  if grep -q "user-invocable: false" "$skill"; then
    echo "OK: $skill"
  else
    echo "MISSING: $skill"
  fi
done
```
  </verify>
  <done>All 11 existing skills have user-invocable: false</done>
</task>

<task type="auto">
  <name>Task 2: Update gap skill frontmatters (3 skills)</name>
  <files>skills/kata-updating-to-latest-version/SKILL.md, skills/kata-executing-quick-tasks/SKILL.md, skills/kata-showing-available-commands-and-usage-guides/SKILL.md</files>
  <action>
For each of the 3 gap skills created in 02-01, verify `user-invocable: false` is present.

If missing (may have been omitted in 02-01), add it now.

**Skills to verify/update:**
1. kata-updating-to-latest-version
2. kata-executing-quick-tasks
3. kata-showing-available-commands-and-usage-guides
  </action>
  <verify>
```bash
grep "user-invocable: false" skills/kata-updating-to-latest-version/SKILL.md
grep "user-invocable: false" skills/kata-executing-quick-tasks/SKILL.md
grep "user-invocable: false" skills/kata-showing-available-commands-and-usage-guides/SKILL.md
```
  </verify>
  <done>All 3 gap skills have user-invocable: false</done>
</task>

<task type="auto">
  <name>Task 3: Verify all 14 skills updated</name>
  <files>skills/kata-*/SKILL.md</files>
  <action>
Run verification across all skills:

```bash
# Count skills with user-invocable: false
grep -l "user-invocable: false" skills/kata-*/SKILL.md | wc -l  # Should be 14

# List any missing
for skill in skills/kata-*/SKILL.md; do
  if ! grep -q "user-invocable: false" "$skill"; then
    echo "MISSING: $skill"
  fi
done
```

If any are missing, add the frontmatter line.
  </action>
  <verify>
```bash
# All 14 should have the flag
grep -l "user-invocable: false" skills/kata-*/SKILL.md | wc -l
```
  </verify>
  <done>All 14 skills verified to have user-invocable: false</done>
</task>

</tasks>

<verification>
All skills updated with user-invocable: false:

```bash
# Count
grep -l "user-invocable: false" skills/kata-*/SKILL.md | wc -l  # 14

# Verify none missing
for skill in skills/kata-*/SKILL.md; do
  grep -q "user-invocable: false" "$skill" || echo "MISSING: $skill"
done
```
</verification>

<success_criteria>
- [ ] All 11 existing skills have `user-invocable: false` in frontmatter
- [ ] All 3 gap skills have `user-invocable: false` in frontmatter
- [ ] Total of 14 skills updated
- [ ] Frontmatter format preserved (name, description, user-invocable order)
</success_criteria>

<output>
After completion, create `.planning/phases/02-create-kata-slash-commands/02-06-SUMMARY.md`
</output>
