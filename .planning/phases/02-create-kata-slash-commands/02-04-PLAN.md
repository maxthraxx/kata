---
phase: 02-create-kata-slash-commands
plan: 04
type: execute
wave: 2
depends_on: ["02-01"]
files_modified:
  - commands/kata/phase-plan.md
  - commands/kata/phase-execute.md
  - commands/kata/work-verify.md
  - commands/kata/work-pause.md
  - commands/kata/work-resume.md
  - commands/kata/codebase-map.md
  - commands/kata/todo-add.md
  - commands/kata/todo-check.md
autonomous: true

must_haves:
  truths:
    - "User can invoke /kata:phase-plan to create PLAN.md files"
    - "User can invoke /kata:phase-execute to run plans"
    - "User can invoke /kata:work-verify to verify built work"
  artifacts:
    - path: "commands/kata/phase-plan.md"
      provides: "Phase planning command"
      contains: "disable-model-invocation: true"
    - path: "commands/kata/phase-execute.md"
      provides: "Phase execution command"
      contains: "disable-model-invocation: true"
    - path: "commands/kata/work-verify.md"
      provides: "Work verification command"
      contains: "disable-model-invocation: true"
  key_links:
    - from: "commands/kata/phase-plan.md"
      to: "skills/kata-planning-phases"
      via: "Skill delegation"
      pattern: "kata-planning-phases"
    - from: "commands/kata/phase-execute.md"
      to: "skills/kata-executing-project-phases"
      via: "Skill delegation"
      pattern: "kata-executing-project-phases"
---

<objective>
Create slash commands for planning, execution, verification, session management, and todos.

Purpose: Provide explicit invocation paths for core Kata workflow operations
Output: 8 command files in commands/kata/ directory
</objective>

<execution_context>
@~/.claude/kata/workflows/execute-plan.md
@~/.claude/kata/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-create-kata-slash-commands/02-CONTEXT.md

# Reference skills for delegation targets
@skills/kata-planning-phases/SKILL.md
@skills/kata-executing-project-phases/SKILL.md
@skills/kata-verifying-work-outcomes-and-user-acceptance-testing/SKILL.md
@skills/kata-providing-progress-and-status-updates/SKILL.md
@skills/kata-managing-todos/SKILL.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create core workflow commands</name>
  <files>commands/kata/phase-plan.md, commands/kata/phase-execute.md, commands/kata/work-verify.md</files>
  <action>
**commands/kata/phase-plan.md:**
- name: kata:phase-plan
- description: Create PLAN.md files for a phase with task breakdown and dependency analysis
- argument-hint: "<phase-number>"
- Body: Delegate to kata-planning-phases skill. Pass $ARGUMENTS as phase number. If no phase specified, detect next unplanned phase from ROADMAP.md.

**commands/kata/phase-execute.md:**
- name: kata:phase-execute
- description: Execute all plans in a phase with wave-based parallelization
- argument-hint: "<phase-number>"
- Body: Delegate to kata-executing-project-phases skill. Pass $ARGUMENTS as phase number. If no phase specified, use current phase from STATE.md.

**commands/kata/work-verify.md:**
- name: kata:work-verify
- description: Verify built work against plan goals using goal-backward verification
- argument-hint: "[phase-number]"
- Body: Delegate to kata-verifying-work-outcomes-and-user-acceptance-testing skill with mode="verify". Pass $ARGUMENTS as phase number.
  </action>
  <verify>
```bash
ls commands/kata/phase-plan.md commands/kata/phase-execute.md commands/kata/work-verify.md
grep "kata-planning-phases\|kata-executing\|kata-verifying" commands/kata/*.md
```
  </verify>
  <done>3 core workflow commands created with proper frontmatter</done>
</task>

<task type="auto">
  <name>Task 2: Create session and todo commands</name>
  <files>commands/kata/work-pause.md, commands/kata/work-resume.md, commands/kata/codebase-map.md, commands/kata/todo-add.md, commands/kata/todo-check.md</files>
  <action>
**commands/kata/work-pause.md:**
- name: kata:work-pause
- description: Pause current work and save resume point to STATE.md
- argument-hint: "" (no args)
- Body: Delegate to kata-providing-progress-and-status-updates skill with operation="pause"

**commands/kata/work-resume.md:**
- name: kata:work-resume
- description: Resume work from saved state in STATE.md
- argument-hint: "" (no args)
- Body: Delegate to kata-providing-progress-and-status-updates skill with operation="resume"

**commands/kata/codebase-map.md:**
- name: kata:codebase-map
- description: Analyze codebase structure and create documentation in .planning/codebase/
- argument-hint: "" (no args)
- Body: Delegate to kata-providing-progress-and-status-updates skill with operation="map-codebase"

**commands/kata/todo-add.md:**
- name: kata:todo-add
- description: Capture a todo item with area inference and duplicate detection
- argument-hint: "<todo-description>"
- Body: Delegate to kata-managing-todos skill with operation="add". Pass $ARGUMENTS as todo description. AskUserQuestion if no description provided.

**commands/kata/todo-check.md:**
- name: kata:todo-check
- description: Review pending todos with action options
- argument-hint: "" (no args)
- Body: Delegate to kata-managing-todos skill with operation="check"
  </action>
  <verify>
```bash
ls commands/kata/work-*.md commands/kata/codebase-*.md commands/kata/todo-*.md
grep "disable-model-invocation: true" commands/kata/work-pause.md commands/kata/todo-add.md
```
  </verify>
  <done>5 session and todo commands created with proper frontmatter</done>
</task>

</tasks>

<verification>
All 8 commands exist with correct frontmatter:

```bash
# Count total commands
ls commands/kata/*.md | wc -l  # Should be 22 total (7+7+8)

# Verify all have disable-model-invocation
grep -L "disable-model-invocation: true" commands/kata/*.md  # Should return nothing
```
</verification>

<success_criteria>
- [ ] 8 command files exist (phase-plan, phase-execute, work-verify, work-pause, work-resume, codebase-map, todo-add, todo-check)
- [ ] All commands have `disable-model-invocation: true` in frontmatter
- [ ] All commands delegate to corresponding skills
- [ ] Commands follow noun-verb naming pattern
</success_criteria>

<output>
After completion, create `.planning/phases/02-create-kata-slash-commands/02-04-SUMMARY.md`
</output>
