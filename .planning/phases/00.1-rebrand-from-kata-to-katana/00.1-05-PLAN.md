---
phase: 00.1-rebrand-from-kata-to-katana
plan: 05
type: execute
wave: 4
depends_on: ["00.1-03"]
files_modified: [katana/workflows/*.md, katana/templates/**/*.md, katana/references/*.md, hooks/*.js]
autonomous: true

must_haves:
  truths:
    - "All workflow files reference katana paths"
    - "All template files reference katana paths"
    - "All reference files reference katana paths"
    - "Hook files use katana paths"
  artifacts:
    - path: "katana/workflows/execute-plan.md"
      provides: "Execute plan workflow with katana paths"
      contains: "katana/"
    - path: "katana/templates/phase-prompt.md"
      provides: "Phase prompt template with katana paths"
      contains: "katana/"
    - path: "hooks/katana-check-update.js"
      provides: "Update check hook with katana paths"
      contains: "katana"
  key_links:
    - from: "katana/workflows/*.md"
      to: "katana/templates/*.md"
      via: "@-references"
      pattern: "@.*katana/templates"
---

<objective>
Update workflow, template, reference, and hook file contents with Katana naming.

Purpose: These files define the internal Katana system behavior. All path references and command mentions must be consistent.
Output: All workflow, template, reference, and hook files updated with Katana references.
</objective>

<execution_context>
@~/.claude/katana/workflows/execute-plan.md
@~/.claude/katana/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/00.1-rebrand-from-kata-to-katana/00.1-RESEARCH.md
@.planning/phases/00.1-rebrand-from-kata-to-katana/00.1-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update workflow files</name>
  <files>katana/workflows/*.md</files>
  <action>
    For each file in katana/workflows/*.md:

    1. Update @-references:
       - @~/.claude/kata/ -> @~/.claude/katana/
       - @kata/ -> @katana/

    2. Update file path references:
       - kata/ -> katana/
       - kata- -> katana-

    3. Update command references:
       - /kata: -> /katana:
       - /gsd: -> /katana:

    4. Update prose:
       - "Kata" -> "Katana"

    Process all ~12 workflow files.
  </action>
  <verify>grep -r "/kata:\|kata/" katana/workflows/ | wc -l (should be 0)</verify>
  <done>All workflow files use katana paths and references</done>
</task>

<task type="auto">
  <name>Task 2: Update template and reference files</name>
  <files>katana/templates/**/*.md, katana/references/*.md</files>
  <action>
    For all files in katana/templates/ (including subdirectories) and katana/references/:

    1. Update @-references:
       - @~/.claude/kata/ -> @~/.claude/katana/
       - @kata/ -> @katana/

    2. Update file path references:
       - kata/ -> katana/
       - kata- -> katana-

    3. Update command references:
       - /kata: -> /katana:
       - /gsd: -> /katana:

    4. Update prose references:
       - "Kata" -> "Katana"

    Process all ~29 template and reference files.
  </action>
  <verify>grep -r "/kata:\|kata/" katana/templates/ katana/references/ | wc -l (should be 0)</verify>
  <done>All template and reference files use katana paths</done>
</task>

<task type="auto">
  <name>Task 3: Update hook files</name>
  <files>hooks/*.js</files>
  <action>
    For each .js file in hooks/:

    1. Update cache/file paths:
       - kata -> katana in path strings

    2. Update any version file paths:
       - .kata-version -> .katana-version (if applicable)

    3. Update any command references:
       - kata -> katana

    Note: The hook file was renamed in Plan 02, this updates its content.
  </action>
  <verify>grep -r "kata" hooks/*.js | grep -v "katana" | wc -l (should be 0)</verify>
  <done>All hook files use katana paths</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `grep -r "kata/" katana/` returns no matches
- [ ] `grep -r "/kata:" katana/` returns no matches
- [ ] `grep -r "/gsd:" katana/` returns no matches
- [ ] `grep -r "kata" hooks/*.js | grep -v katana` returns no matches
- [ ] All files parse correctly (no syntax errors introduced)
</verification>

<success_criteria>
- All ~12 workflow files updated
- All ~22 template files updated
- All ~7 reference files updated
- All hook files updated
- No orphaned kata references in these directories
</success_criteria>

<output>
After completion, create `.planning/phases/00.1-rebrand-from-kata-to-katana/00.1-05-SUMMARY.md`
</output>
